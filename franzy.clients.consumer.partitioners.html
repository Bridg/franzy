<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>franzy.clients.consumer.partitioners documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Franzy</span> <span class="project-version">0.0.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="README.html"><div class="inner"><span>Franzy</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>franzy</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clients</span></div></div></li><li class="depth-3 branch"><a href="franzy.clients.codec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codec</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connect</span></div></div></li><li class="depth-4"><a href="franzy.clients.connect.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>consumer</span></div></div></li><li class="depth-4 branch"><a href="franzy.clients.consumer.callbacks.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>callbacks</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.consumer.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.consumer.defaults.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>defaults</span></div></a></li><li class="depth-4 branch current"><a href="franzy.clients.consumer.partitioners.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>partitioners</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.consumer.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.consumer.results.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>results</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.consumer.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-4"><a href="franzy.clients.consumer.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -269px;"><span class="top" style="height: 278px;"></span><span class="bottom"></span></span><span>producer</span></div></div></li><li class="depth-4 branch"><a href="franzy.clients.producer.callbacks.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>callbacks</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.producer.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.producer.defaults.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>defaults</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.producer.partitioners.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>partitioners</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.producer.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.producer.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-4"><a href="franzy.clients.producer.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -641px;"><span class="top" style="height: 650px;"></span><span class="bottom"></span></span><span>serialization</span></div></div></li><li class="depth-3 branch"><a href="franzy.serialization.deserializers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>deserializers</span></div></a></li><li class="depth-3"><a href="franzy.serialization.serializers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serializers</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="franzy.clients.consumer.partitioners.html#var-make-partition-assignor"><div class="inner"><span>make-partition-assignor</span></div></a></li><li class="depth-1"><a href="franzy.clients.consumer.partitioners.html#var-range-assignor"><div class="inner"><span>range-assignor</span></div></a></li><li class="depth-1"><a href="franzy.clients.consumer.partitioners.html#var-round-robin-assignor"><div class="inner"><span>round-robin-assignor</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">franzy.clients.consumer.partitioners</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-make-partition-assignor"><h3>make-partition-assignor</h3><div class="usage"><code>(make-partition-assignor partition-assignor)</code></div><div class="doc"><div class="markdown"><p>Convenience wrapper for implementors that prefer implementing a Clojure protocol (ex: FranzPartitionAssignor) that maps to the PartitionAssignor Java interface, rather than implementing the interface directly. It is recommended for performance to implement the Java PartitionAssignor interface directly, use gen-class, and any of the previous with a combination of extend-type, however this may be inconvenient in existing code-bases and  in cases where it is more convenient to use a protocol to add some extra partition related methods.</p></div></div></div><div class="public anchor" id="var-range-assignor"><h3>range-assignor</h3><div class="usage"><code>(range-assignor)</code></div><div class="doc"><div class="markdown"><p>The range assignor works on a per-topic basis. For each topic, we lay out the available partitions in numeric order and the consumers in lexicographic order. We then divide the number of partitions by the total number of consumers to determine the number of partitions to assign to each consumer. If it does not evenly divide, then the first few consumers will have one extra partition.</p>
<p>For example, suppose there are two consumers C0 and C1, two topics t0 and t1, and each topic has 3 partitions, resulting in partitions:</p>
<blockquote>
  <p>t0p0, t0p1, t0p2, t1p0, t1p1, and t1p2.</p>
</blockquote>
<p>The assignment will be:</p>
<blockquote>
  <p>C0: [t0p0, t0p1, t1p0, t1p1] C1: [t0p2, t1p2]</p>
</blockquote></div></div></div><div class="public anchor" id="var-round-robin-assignor"><h3>round-robin-assignor</h3><div class="usage"><code>(round-robin-assignor)</code></div><div class="doc"><div class="markdown"><p>The roundrobin assignor lays out all the available partitions and all the available consumers. It then proceeds to do a roundrobin assignment from partition to consumer.</p>
<p>If the subscriptions of all consumer instances are identical, then the partitions will be uniformly distributed. (i.e., the partition ownership counts will be within a delta of exactly one across all consumers.)</p>
<p>For example, suppose there are two consumers C0 and C1, two topics t0 and t1, and each topic has 3 partitions, resulting in partitions:</p>
<blockquote>
  <p>t0p0, t0p1, t0p2, t1p0, t1p1, and t1p2.</p>
</blockquote>
<p>The assignment will be:</p>
<blockquote>
  <p>C0: [t0p0, t0p2, t1p1] C1: [t0p1, t1p0, t1p2]</p>
</blockquote></div></div></div></div></body></html>