<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>franzy.clients.consumer.client documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Franzy</span> <span class="project-version">0.0.1-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="README.html"><div class="inner"><span>Franzy</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>franzy</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clients</span></div></div></li><li class="depth-3 branch"><a href="franzy.clients.codec.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codec</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connect</span></div></div></li><li class="depth-4"><a href="franzy.clients.connect.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>consumer</span></div></div></li><li class="depth-4 branch"><a href="franzy.clients.consumer.callbacks.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>callbacks</span></div></a></li><li class="depth-4 branch current"><a href="franzy.clients.consumer.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.consumer.defaults.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>defaults</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.consumer.partitioners.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>partitioners</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.consumer.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.consumer.results.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>results</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.consumer.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-4"><a href="franzy.clients.consumer.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -269px;"><span class="top" style="height: 278px;"></span><span class="bottom"></span></span><span>producer</span></div></div></li><li class="depth-4 branch"><a href="franzy.clients.producer.callbacks.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>callbacks</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.producer.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.producer.defaults.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>defaults</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.producer.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-4 branch"><a href="franzy.clients.producer.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-4"><a href="franzy.clients.producer.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -610px;"><span class="top" style="height: 619px;"></span><span class="bottom"></span></span><span>serialization</span></div></div></li><li class="depth-3 branch"><a href="franzy.serialization.deserializers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>deserializers</span></div></a></li><li class="depth-3"><a href="franzy.serialization.serializers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serializers</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="franzy.clients.consumer.client.html#var--.3EFranzConsumer"><div class="inner"><span>-&gt;FranzConsumer</span></div></a></li><li class="depth-1"><a href="franzy.clients.consumer.client.html#var-make-consumer"><div class="inner"><span>make-consumer</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">franzy.clients.consumer.client</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var--.3EFranzConsumer"><h3>-&gt;FranzConsumer</h3><div class="usage"><code>(-&gt;FranzConsumer consumer consumer-options)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class franzy.clients.consumer.client.FranzConsumer.</p></div></div></div><div class="public anchor" id="var-make-consumer"><h3>make-consumer</h3><div class="usage"><code>(make-consumer config)</code><code>(make-consumer config options)</code><code>(make-consumer config key-deserializer value-deserializer)</code><code>(make-consumer config key-deserializer value-deserializer options)</code></div><div class="doc"><div class="markdown"><p>Inputs: ([config :- cs/ConsumerConfig] [config :- cs/ConsumerConfig options :- (s/maybe cs/ConsumerOptions)] [config :- cs/ConsumerConfig key-deserializer :- Deserializer value-deserializer :- Deserializer] [config :- cs/ConsumerConfig key-deserializer :- Deserializer value-deserializer :- Deserializer options :- (s/maybe cs/ConsumerOptions)]) Returns: FranzConsumer</p>
<p>Create a Kafka Consumer from a configuration, with optional deserializers and optional consumer options.  If a callback is given, call it when stopping the consumer.  If deserializers are provided, use them, otherwise expect deserializers via class name in the config map.</p>
<p>This consumer is a wrapper of Kafka Java Consumer API.  It provides a Clojure (ish) wrapper, with Clojure data structures to/from Kafka, and implements various protocols to  allow more specialized consumers following this implementation.  If you prefer a lower-level implementation or wish to test your consumer, you may wish to browse this implementation  and implement one or all the protocols provided.</p>
<p>This consumer provides implementations for both a manual and automatic consumer. You must not mix and match  automatic and manual consumption. If you do violate this rule, an exception will be thrown. Generally, this means  you either need to subscribe to a specific topic partition to receive an automatic assignment, or manually assign  yourself.</p>
<p>Moreover, it is important to note that the offset position will be determined by your consumer configuration and  whether or not you are saving offsets in Kafka itself, or an external location. If you need to manually reset or position  the consumer offset in a particular partition, you can seek to it directly. Seeking will only work after partition assignment.  For a subscription-based consumer, it is an error to seek before being assigned a partition.  If you want to seek on assignmen for a subscription-based consumer, please do so using a callback to guarantee you  have been assigned a valid partition.</p>
<p>For per function documentation, please see the source for extensive comments, usage examples, etc.</p>
<p>&gt; Note: This implementation stresses a reasonable compromise between raw performance, extensibility, and usability, all things considered as:</p>
<ol>
  <li>A wrapper</li>
  <li>Clojure</li>
</ol>
<p>Consumer options serve the following purposes:</p>
<ul>
  <li>Avoid repeated/inconvenient passing of defaults to various methods requiring options such as timeouts. Many consumers do not need per-call options.</li>
  <li>Long-term extensibility as more features are added to this client, mitigating signature changes and excessive arities</li>
  <li>Cheaper lookups and smaller memory footprint as the options are created in final form as records.</li>
  <li>Dynamic construction of consumer options via stream processors, back-off logic, etc.</li>
  <li>Reduction in garbage collection for consumers that do not need per-call options. Overall, less intermediate maps and reified objects.</li>
  <li>Avoid slow memory allocations for the aforementioned cases.</li>
  <li>Mitigate Kafka Java API changes. The API has often been in flux and sometimes it is necessary for extra options to handle weirdness from Java API bugs.</li>
</ul>
<p>&gt; Note: Consumer options are distinct from the Kafka Consumer Configuration.</p></div></div></div></div></body></html>